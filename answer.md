## デプロイ情報
#### サービスURL
{http://169.44.126.152/Chat}

#### リポジトリURL
解答のリポジトリ
{https://github.com/yamachu/codecheck-4006}

プロダクトのソース
{https://github.com/yamachu/ChatBotWithWS}

#### 使用言語
- C#

#### 主なライブラリ
- ASP .NET Core / React / Roslyn for Scripting / Docker

####  ホスティングサービス
- Bluemix

## 独自コマンドの実装
#### 追加したコマンド
```
bot help
bot csx {eval,run,list} [args]
```

#### コマンドの説明
help は利用可能なコマンドを出力

csx はサブコマンドがあり，
* eval => eval [args]で使用する．この時jsonにcsxという要素を持っていたらそこに記述されたcsharpコードを実行する．Argsという変数に[args]で指定した変数がstringで格納されている
* run => 未対応
* list => 未対応

例としては {text:"bot csx eval 1190", csx:"2+int.Parse(Args[0])"}

基本的にはC#のコマンドを実行できるものです．引数なども与えることができるので，モバイル端末からでも簡易的なJsonシリアライザがあれば実行が可能．


## 創意工夫 & 作り込み
#### 作り込んだコマンド / 機能
Roslyn for Scriptingが非常に香味深いものだったので，それを活かすものを作ろうということでcsxコマンドを実装した．
本来であればいたずら防止のため，外部ネットワークへの制限などを厳しくすることが重要であるが，そこまでの作り込みはできなかった．
リソースを使いすぎないようタイムアウト機能はもうけた．

認証機能，そして本来つける予定だった保存機能などをつけて，開発に協力してくれる人間にPlaygroundとして提供していきたい．

#### 創意工夫したポイント
最低限の仕様を満たし，自分が欲しい機能を追加した．またモジュール分割を行い拡張性をもたせやすいものにしようと努力した．
またポータブル性を重視し，Dockerを使用した．Dockerをホストできるサービスであればどこでもデプロイが可能となった．

C#とReactを組み合わせる楽しいものにしてみた．
もう少し時間をかけてちゃんとしたものにしたいと感じた．

またChatはルーム機能を搭載したため，http://169.44.126.152/Chat/Room/Hoge などでHogeチャットルームが作られ，ルームオンリーのチャットが可能である．

テストケースですが，ライブラリの関係上複数コネクション張ってるときや，最初の１回は基本的にパスしないと思います（ローカルでも確認済み）
